---
// src/components/ArrowHeading.astro
import { Image } from "astro:assets";
import Heading from "./Heading";
import StraightArrow from "@/assets/straight-arrow-down.png";
import StraightArrowUp from "@/assets/straight-arrow.png";

const {
  // ArrowHeading specific props
  containerClass = "flex items-center justify-center gap-3 mb-6",
  arrowClass = "w-16 h-12 -mb-18",
  arrowAlt = "Arrow",
  variant = "primary",
  
  // Heading props - extract and pass through
  tagName = "h2",
  className = "h4 font-bold text-light-primary uppercase tracking-wide",
  before,
  text,
  after,
  beforeClass = "",
  textClass = "",
  afterClass = "",
  beforeId,
  textId,
  afterId,
  beforeProps,
  textProps,
  afterProps,
  
  // Any remaining props
  ...props
} = Astro.props;

// Different layouts based on variant
const isPrimary = variant === "primary";
const isSecondary = variant === "secondary";

// Collect all heading props
const headingProps = {
  tagName,
  className,
  before,
  text,
  after,
  beforeClass,
  textClass,
  afterClass,
  beforeId,
  textId,
  afterId,
  beforeProps,
  textProps,
  afterProps,
  ...props
};
---

{isPrimary && (
  <div class={containerClass}>
    <Image 
      src={StraightArrow} 
      alt={arrowAlt} 
      class={arrowClass}
    />
    
    <Heading {...headingProps}>
      <slot />
    </Heading>
    
    <Image 
      src={StraightArrow} 
      alt={arrowAlt} 
      class={arrowClass}
    />
  </div>
)}

{isSecondary && (
  <div class="flex flex-col items-center justify-center mb-6">
    <Heading {...headingProps}>
      <slot />
    </Heading>
    
    <Image 
      src={StraightArrowUp} 
      alt={arrowAlt} 
      class="w-12 h-10 mt-4 transform rotate-90"
    />
  </div>
)}